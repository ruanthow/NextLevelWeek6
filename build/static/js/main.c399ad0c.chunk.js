(this.webpackJsonpletmeask=this.webpackJsonpletmeask||[]).push([[0],{14:function(e,t,n){e.exports={pageRoom:"styles_pageRoom__2qKbw",content:"styles_content__2nTsD",roomtitle:"styles_roomtitle__2ZetH",formFooter:"styles_formFooter__2Jbzn",userInfo:"styles_userInfo__3h2JK"}},20:function(e,t,n){e.exports={pageAuth:"style_pageAuth__3ywiV",mainContent:"style_mainContent__mHRjP",createRoom:"style_createRoom__d1DUI",separator:"style_separator__29Xgg"}},26:function(e,t,n){e.exports={pageAuth:"styles_pageAuth__31WzN",mainContent:"styles_mainContent__3vVtB",createRoom:"styles_createRoom__3NE_y",separator:"styles_separator__1_OO7"}},30:function(e,t,n){e.exports={roomCode:"styles_roomCode__tr_PI"}},38:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),s=n(28),c=n.n(s),i=n(15),o=n(6),u=n(5),l=n.n(u),d=n(8),j=n(9),h=n(31),p=n(32),b=(n(38),n(1));function m(e){var t=e.isOutlined,n=void 0!==t&&t,a=Object(p.a)(e,["isOutlined"]);return Object(b.jsx)("button",Object(h.a)({className:"button ".concat(n?"outlined":"")},a))}var f=n(19);n(40),n(42);f.a.initializeApp({apiKey:"AIzaSyDgNJqtW_eX3GfQ_v9ClZAslBT0DNSD4d4",authDomain:"leatmeask-loud.firebaseapp.com",databaseURL:"https://leatmeask-loud-default-rtdb.firebaseio.com",projectId:"leatmeask-loud",storageBucket:"leatmeask-loud.appspot.com",messagingSenderId:'"331960273122"',appId:"1:331960273122:web:233e08325597809f00f6bb "});var x=f.a.auth(),O=f.a.database(),g=Object(a.createContext)({});function v(e){var t=Object(a.useState)(),n=Object(j.a)(t,2),r=n[0],s=n[1];function c(){return(c=Object(d.a)(l.a.mark((function e(){var t,n,a,r,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new f.a.auth.GoogleAuthProvider,e.next=3,x.signInWithPopup(t);case 3:if(!(n=e.sent).user){e.next=9;break}if(a=n.user,r=a.displayName,c=a.photoURL,i=a.uid,r&&c){e.next=8;break}throw new Error("Missing information from Google account");case 8:s({id:i,name:r,photo:c});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var e=x.onAuthStateChanged((function(e){if(e){var t=e.displayName,n=e.photoURL,a=e.uid;if(!t||!n)throw new Error("Missing information from Google account");s({id:a,name:t,photo:n})}}));return function(){e()}}),[]),Object(b.jsx)(g.Provider,{value:{user:r,singInWithGoogle:function(){return c.apply(this,arguments)}},children:e.children})}var k=n.p+"static/media/illustration.ae7276f0.svg",w=n.p+"static/media/logo.a88331cb.svg",y=n.p+"static/media/google-icon.df15d8e5.svg",C=n(20),_=n.n(C);function A(){var e=Object(o.f)(),t=Object(a.useState)(""),n=Object(j.a)(t,2),r=n[0],s=n[1],c=Object(a.useContext)(g),i=c.singInWithGoogle,u=c.user;function h(){return(h=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u){t.next=3;break}return t.next=3,i();case 3:e.push("/rooms/new");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(){return(p=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""!==r.trim()){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,O.ref("/rooms/".concat(r)).get();case 5:if((a=t.sent).exists()){t.next=9;break}return alert("Rooms not exist"),t.abrupt("return");case 9:if(!a.val().endAt){t.next=12;break}return alert("Room already closed"),t.abrupt("return");case 12:console.log(a),e.push("/rooms/".concat(r));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(b.jsxs)("div",{className:_.a.pageAuth,children:[Object(b.jsxs)("aside",{children:[Object(b.jsx)("img",{src:k,alt:"Ilustra\xe7\xe3o simbolizando perguntas e repostas"}),Object(b.jsx)("strong",{children:"Crie salas de Q&A A ao-vivo"}),Object(b.jsx)("p",{children:"tire as duvidas da sua adi\xeancia em tempo real"})]}),Object(b.jsx)("main",{children:Object(b.jsxs)("div",{className:_.a.mainContent,children:[Object(b.jsx)("img",{src:w,alt:"Letmeask"}),Object(b.jsxs)("button",{onClick:function(){return h.apply(this,arguments)},className:_.a.createRoom,children:[Object(b.jsx)("img",{src:y,alt:"logo google"}),"Crie sua sala com o google"]}),Object(b.jsx)("div",{className:_.a.separator,children:"ou entre em uma sala"}),Object(b.jsxs)("form",{onSubmit:function(e){return p.apply(this,arguments)},children:[Object(b.jsx)("input",{type:"text",placeholder:"digite o c\xf3digo da sala",onChange:function(e){s(e.target.value)},value:r}),Object(b.jsx)(m,{type:"submit",children:"Entrar na sala"})]})]})})]})}var N=n(26),I=n.n(N);function S(){var e=Object(a.useContext)(g).user,t=Object(a.useState)(""),n=Object(j.a)(t,2),r=n[0],s=n[1],c=Object(o.f)();function u(){return(u=Object(d.a)(l.a.mark((function t(n){var a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""!==r.trim()){t.next=3;break}return t.abrupt("return");case 3:return a=O.ref("rooms"),t.next=6,a.push({title:r,authorId:null===e||void 0===e?void 0:e.id});case 6:s=t.sent,c.push("/rooms/".concat(s.key));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(b.jsxs)("div",{className:I.a.pageAuth,children:[Object(b.jsxs)("aside",{children:[Object(b.jsx)("img",{src:k,alt:"Ilustra\xe7\xe3o simbolizando perguntas e repostas"}),Object(b.jsx)("strong",{children:"Crie salas de Q&A A ao-vivo"}),Object(b.jsx)("p",{children:"tire as duvidas da sua adi\xeancia em tempo real"})]}),Object(b.jsx)("main",{children:Object(b.jsxs)("div",{className:I.a.mainContent,children:[Object(b.jsx)("img",{src:w,alt:"Letmeask"}),Object(b.jsx)("h2",{children:"Criar uma nova Sala"}),Object(b.jsxs)("form",{onSubmit:function(e){return u.apply(this,arguments)},children:[Object(b.jsx)("input",{type:"text",placeholder:"Nome da Sala",onChange:function(e){return s(e.target.value)},value:r}),Object(b.jsx)(m,{type:"submit",children:"Criar sala"})]}),Object(b.jsxs)("p",{children:["Quer em uma sala existente ? ",Object(b.jsx)(i.b,{to:"/",children:"clique aqui"})," "]})]})})]})}var q=n.p+"static/media/copy.61cdd47b.svg",H=n(30),R=n.n(H);function D(e){return Object(b.jsxs)("button",{className:R.a.roomCode,onClick:function(){navigator.clipboard.writeText(e.code)},children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:q,alt:"Copy code"})}),Object(b.jsxs)("span",{children:["Sala# ",e.code]})]})}n(50);function L(e){var t=e.content,n=e.author,a=e.children,r=e.isAnswhered,s=e.isHighlighted;return Object(b.jsxs)("div",{className:"question ".concat(r?"answered":""," ").concat(s&&!r?"highlighted":""),children:[Object(b.jsx)("p",{children:t}),Object(b.jsxs)("footer",{children:[Object(b.jsxs)("div",{className:"userInfo",children:[Object(b.jsx)("img",{src:n.avatar,alt:n.name}),Object(b.jsx)("span",{children:n.name})]}),Object(b.jsx)("div",{children:a})]})]})}var E=n(14),M=n.n(E);function z(e){var t=Object(a.useContext)(g).user,n=Object(a.useState)([]),r=Object(j.a)(n,2),s=r[0],c=r[1],i=Object(a.useState)(),o=Object(j.a)(i,2),u=o[0],l=o[1];return Object(a.useEffect)((function(){var n=O.ref("/rooms/".concat(e));return n.on("value",(function(e){var n,a=e.val(),r=null!==(n=a.questions)&&void 0!==n?n:{},s=Object.entries(r).map((function(e){var n,a,r,s=Object(j.a)(e,2),c=s[0],i=s[1];return{id:c,content:i.content,author:i.author,isHighlighted:i.isHighlighted,isAnswhered:i.isAnswhered,likeCount:Object.values(null!==(n=i.likes)&&void 0!==n?n:{}).length,likeId:null===(a=Object.entries(null!==(r=i.likes)&&void 0!==r?r:{}).find((function(e){var n=Object(j.a)(e,2);n[0];return n[1].authorId===(null===t||void 0===t?void 0:t.id)})))||void 0===a?void 0:a[0]}}));l(a.title),c(s),console.log(s)})),function(){n.off("value")}}),[e,null===t||void 0===t?void 0:t.id]),{questions:s,title:u}}function G(){var e=Object(o.g)().id,t=Object(a.useContext)(g).user,n=z(e),r=n.questions,s=n.title,c=Object(a.useState)(""),i=Object(j.a)(c,2),u=i[0],h=i[1];function p(){return(p=Object(d.a)(l.a.mark((function n(a){var r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),""!==u.trim()){n.next=3;break}return n.abrupt("return");case 3:if(t){n.next=5;break}throw new Error("You must be logged in");case 5:return r={content:u,author:{name:null===t||void 0===t?void 0:t.name,avatar:t.photo},isHighlighted:!1,isAnswhered:!1},n.next=8,O.ref("/rooms/".concat(e,"/questions")).push(r);case 8:h("");case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function f(){return(f=Object(d.a)(l.a.mark((function n(a,r){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r){n.next=5;break}return n.next=3,O.ref("/rooms/".concat(e,"/questions/").concat(a,"/likes/").concat(r)).remove();case 3:n.next=8;break;case 5:return n.next=7,O.ref("/rooms/".concat(e,"/questions/").concat(a,"/likes")).push({authorId:null===t||void 0===t?void 0:t.id});case 7:n.sent;case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(b.jsxs)("div",{className:M.a.pageRoom,children:[Object(b.jsx)("header",{children:Object(b.jsxs)("div",{className:M.a.content,children:[Object(b.jsx)("img",{src:w,alt:"Letmeask"}),Object(b.jsx)(D,{code:e})]})}),Object(b.jsxs)("main",{children:[Object(b.jsxs)("div",{className:M.a.roomtitle,children:[Object(b.jsxs)("h1",{children:["Sala ",s]}),r.length>0&&Object(b.jsxs)("span",{children:[r.length," pergunta(s)"]})]}),Object(b.jsxs)("form",{onSubmit:function(e){return p.apply(this,arguments)},children:[Object(b.jsx)("textarea",{placeholder:"oque voce quer perguntar",rows:5,onChange:function(e){return h(e.target.value)},value:u}),Object(b.jsxs)("div",{className:M.a.formFooter,children:[t?Object(b.jsxs)("div",{className:M.a.userInfo,children:[Object(b.jsx)("img",{src:t.photo,alt:t.name}),Object(b.jsx)("span",{children:t.name})]}):Object(b.jsxs)("span",{children:["Para enviar uma pergunta ",Object(b.jsx)("button",{children:"fa\xe7a seu login"}),"."]}),Object(b.jsx)(m,{type:"submit",disabled:!t,children:"Enviar pergunta"})]})]}),r.length>0&&r.map((function(e){return Object(b.jsx)(L,{content:e.content,author:e.author,isAnswhered:e.isAnswhered,isHighlighted:e.isHighlighted,children:!e.isAnswhered&&Object(b.jsxs)("button",{className:"like-button ".concat(e.likeId?"liked":""),type:"button","aria-label":"Marcar como gostei",onClick:function(){return function(e,t){return f.apply(this,arguments)}(e.id,e.likeId)},children:[e.likeCount>0&&Object(b.jsx)("span",{children:e.likeCount}),Object(b.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(b.jsx)("path",{d:"M7 22H4C3.46957 22 2.96086 21.7893 2.58579 21.4142C2.21071 21.0391 2 20.5304 2 20V13C2 12.4696 2.21071 11.9609 2.58579 11.5858C2.96086 11.2107 3.46957 11 4 11H7M14 9V5C14 4.20435 13.6839 3.44129 13.1213 2.87868C12.5587 2.31607 11.7956 2 11 2L7 11V22H18.28C18.7623 22.0055 19.2304 21.8364 19.5979 21.524C19.9654 21.2116 20.2077 20.7769 20.28 20.3L21.66 11.3C21.7035 11.0134 21.6842 10.7207 21.6033 10.4423C21.5225 10.1638 21.3821 9.90629 21.1919 9.68751C21.0016 9.46873 20.7661 9.29393 20.5016 9.17522C20.2371 9.0565 19.9499 8.99672 19.66 9H14Z",stroke:"#737380",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})},e.id)}))]})]})}var P=n.p+"static/media/delete.22ba6e00.svg",V=n.p+"static/media/check.5dfa6ed6.svg",W=n.p+"static/media/answer.4502a8d5.svg";function B(){var e=Object(o.g)().id,t=Object(o.f)(),n=z(e),a=n.questions,r=n.title;function s(){return(s=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Voc\xea tem certeza que deseja deletar essa pergunta?")){t.next=3;break}return t.next=3,O.ref("/rooms/".concat(e,"/questions/").concat(n)).remove();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function c(){return(c=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.ref("/rooms/".concat(e,"/questions/").concat(n)).update({isAnswhered:!0});case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function i(){return(i=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.ref("/rooms/".concat(e,"/questions/").concat(n)).update({isHighlighted:!0});case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function u(){return(u=Object(d.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:O.ref("/rooms/".concat(e)).update({endAt:new Date}),t.push("/");case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(b.jsxs)("div",{className:M.a.pageRoom,children:[Object(b.jsx)("header",{children:Object(b.jsxs)("div",{className:M.a.content,children:[Object(b.jsx)("img",{src:w,alt:"Letmeask"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(D,{code:e}),Object(b.jsx)(m,{isOutlined:!0,onClick:function(){return u.apply(this,arguments)},children:"Encerrar Sess\xe3o"})]})]})}),Object(b.jsxs)("main",{children:[Object(b.jsxs)("div",{className:M.a.roomtitle,children:[Object(b.jsxs)("h1",{children:["Sala ",r]}),a.length>0&&Object(b.jsxs)("span",{children:[a.length," pergunta(s)"]})]}),a.length>0&&a.map((function(e){return Object(b.jsxs)(L,{content:e.content,author:e.author,isAnswhered:e.isAnswhered,isHighlighted:e.isHighlighted,children:[!e.isAnswhered&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){return function(e){return c.apply(this,arguments)}(e.id)},children:Object(b.jsx)("img",{src:V,alt:"Marcar pergunta como respondida"})}),Object(b.jsx)("button",{onClick:function(){return function(e){return i.apply(this,arguments)}(e.id)},children:Object(b.jsx)("img",{src:W,alt:"Marcar as perguntas em destaques"})})]}),Object(b.jsx)("button",{onClick:function(){return function(e){return s.apply(this,arguments)}(e.id)},children:Object(b.jsx)("img",{src:P,alt:"Deletar pergunta"})})]},e.id)}))]})]})}var J=function(){return Object(b.jsx)(i.a,{children:Object(b.jsx)(v,{children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"/",exact:!0,component:A}),Object(b.jsx)(o.a,{path:"/rooms/new",exact:!0,component:S}),Object(b.jsx)(o.a,{path:"/rooms/:id",component:G}),Object(b.jsx)(o.a,{path:"/admin/rooms/:id",component:B})]})})})};n(51);c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(J,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.c399ad0c.chunk.js.map